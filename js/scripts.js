"use strict";$(window).on("load",function(){$(".container").css("display","flex"),$(".backdrop").delay(350).fadeOut("slow")}),$(document).ready(setDocSize),$(document).resize(setDocSize),$(document).mousemove(getMouseLocation),$(document).mousemove(adjustParallax);var docHeight=0,docWidth=0,mouseX=0,mouseY=0;function getMouseLocation(){mouseX=event.clientX,mouseY=event.clientY,mouseX*=100/docWidth,mouseY*=100/docHeight}function setDocSize(){docHeight=$(document).height(),docWidth=$(document).width()}function adjustParallax(){var t=!1,e=!1;(mouseX-=50)<=0&&(mouseX=-mouseX,t=!0),(mouseY-=50)<=0&&(mouseY=-mouseY,e=!0);var s,i=Math.sqrt(mouseX/.1),r=Math.sqrt(mouseY/.1);1==t&&(i=-i),1==e&&(r=-r),s=i-40+"px "+(r-40)+"px";var o=i/2+"px "+r/2+"px 2px rgba(0, 0, 0, .9)";$("body").css("background-position",s),$(".text").css("text-shadow",o)}AOS.init();var vara=new Vara("#vara-container","./fonts/Satisfy/SatisfySL.json",[{text:"Eugen Tokariuk",color:"midnightblue",delay:3e3,duration:4e3}]);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Vara=function(t,e,s,i){var r=this;this.elementName=t,this.textsInit=[],"string"==typeof s?this.textsInit.push({text:s}):"object"==_typeof(s)&&(this.textsInit=s),this.texts=this.textsInit,this.properties=i||{},this.properties.textAlign=this.properties.textAlign||"left",this.letterSpacing=0,this.element=document.querySelector(this.elementName),this.fontSource=e,this.characters={},this.drawnCharacters={},this.totalPathLength=0,this.fontSize=24,this.frameRate=1e3/30,this.prevDuration=0,this.completed=!1,this.ready=function(t){r.readyF=t},this.animationEnd=function(t){r.animationEndF=t},this.svg=this.createNode("svg",{width:"100%"}),this.element.appendChild(this.svg),this.font=document.createElement("object"),this.getSVGData()},Vara.prototype.createNode=function(t,e){for(var s in t=document.createElementNS("http://www.w3.org/2000/svg",t),e)t.setAttributeNS(null,s.replace(/[A-Z]/g,function(t,e,s,i){return"-"+t.toLowerCase()}),e[s]);return t},Vara.prototype.getSVGData=function(){var t=this,e=new XMLHttpRequest;e.open("GET",this.fontSource,!0),e.onreadystatechange=function(){4==e.readyState&&200==e.status&&(t.contents=JSON.parse(e.responseText),t.characters=JSON.parse(e.responseText).c,t.preCreate(),t.createText())},e.send(null)},Vara.prototype.preCreate=function(){!function(){if("function"==typeof NodeList.prototype.forEach)return;NodeList.prototype.forEach=Array.prototype.forEach}(),this.questionMark=null==this.characters[63]?{paths:[{w:8.643798828125,h:14.231731414794922,my:22.666500004827977,mx:0,pw:28.2464542388916,d:"m 0,0 c -2,-6.01,5,-8.64,8,-3.98,2,4.09,-7,8.57,-7,11.85"},{w:1.103759765625,h:1.549820899963379,my:8.881500004827977,mx:1,pw:4.466640472412109,d:"m 0,0 a 0.7592,0.7357,0,0,1,0,0.735,0.7592,0.7357,0,0,1,-1,-0.735,0.7592,0.7357,0,0,1,1,-0.738,0.7592,0.7357,0,0,1,0,0.738 z"}],w:8.643798828125}:this.characters[63],this.space={paths:[{d:"M0,0 l"+this.contents.p.space+" 0",mx:0,my:0,w:this.contents.p.space,h:0}],w:this.contents.p.space};for(var t=this.analyseWidth(),e=0;e<this.texts.length;e++){for(var s=[],i=("string"==typeof this.texts[e]?{text:this.texts[e]}:this.texts[e]).text,r=0;r<i.length;r++){var o=i[r];if(0<t.breakPoints[e][r].length)for(var n,a=t.breakPoints[e][r].length,h=0;h<=a;h++){var l=t.breakPoints[e][r][h];t.breakPoints[e][r][a-1]!=o.length&&t.breakPoints[e][r].push(o.length);var c=null==t.breakPoints[e][r][h-1]?0:t.breakPoints[e][r][h-1];n=o.slice(c,l).replace(/^\s+/g,""),s.push(n)}else s.push(i[r])}this.texts[e].text=s}},Vara.prototype.createText=function(){var t,i=this,e=this.svg,s=0,r=0,o=null==this.properties.lineHeight?this.contents.p.lh:this.properties.lineHeight;this.properties.autoAnimation=null==this.properties.autoAnimation||this.properties.autoAnimation;for(var n=0,a=!0,h=0;h<this.texts.length;h++){var l=[],c=0;t=this.texts[h].fontSize;var u=this.texts[h].strokeWidth,p=null==this.texts[h].color?null==this.properties.color?"black":this.properties.color:this.texts[h].color,d=null==this.texts[h].duration?null==this.properties.duration?2e3:this.properties.duration:this.texts[h].duration;this.texts[h].duration=d;var x=null==this.texts[h].id?h:this.texts[h].id;this.texts[h].delay=null==this.texts[h].delay?0:this.texts[h].delay,this.prevDuration+=this.texts[h].delay,null==this.texts[h].fromCurrentPosition&&(this.texts[h].fromCurrentPosition={x:!0,y:!0}),a=null==this.texts[h].y||!(null!=this.texts[h].fromCurrentPosition.y&&!this.texts[h].fromCurrentPosition.y);var f=p,m=null==this.texts[h].textAlign?this.properties.textAlign:this.texts[h].textAlign;o=null==this.texts[h].lineHeight?o:this.texts[h].lineHeight/t;var g=this.createNode("g",{class:"outer",transform:"translate(0,0)","data-text":this.texts[h].text});e.appendChild(g),r=n;for(var y=0,v=0;v<this.texts[h].text.length;v++){var w=0,S=this.createNode("g");g.appendChild(S);for(var b=0,C=0,k=0;k<this.texts[h].text[v].length;k++){var B=this.texts[h].text[v][k],A=this.createNode("g");S.appendChild(A),s=0;var P=null!=this.characters[B.charCodeAt(0)]||" "==B?" "==B?this.space.paths:this.characters[B.charCodeAt(0)].paths:this.questionMark.paths;p=" "==B?"transparent":f,P.forEach(function(t,e){var s=i.createNode("path",{d:t.d,"stroke-width":u,stroke:p,fill:"none","stroke-linecap":i.contents.p.slc,"stroke-linejoin":i.contents.p.slj});A.appendChild(s),s.setAttribute("transform","translate("+t.mx+","+-t.my+")"),b=b>t.my-s.getBBox().y?b:t.my-s.getBBox().y,0==e&&(C=b),s.style.opacity=0,s.style.strokeDasharray=s.getTotalLength()+" "+(s.getTotalLength()+2),s.style.strokeDashoffset=s.getTotalLength()+1}),l.push(A),s=A.getBBox().x*t;var W=this.texts[h].letterSpacing;"object"==_typeof(W)&&(W=void 0===W[B]?void 0===W.global?0:W.global:W[B]),A.getBBox().width<this.texts[h].minWidth&&(s-=(this.texts[h].minWidth-A.getBBox().width)/2),A.setAttribute("transform","translate("+(w-s+W)+",0)  scale("+t+")"),w+=A.getBBox().width*t+W,A.getBBox().width<this.texts[h].minWidth&&(w+=this.texts[h].minWidth-A.getBBox().width)}var D=S.getBBox();S.setAttribute("transform","translate("+u*t+","+(-D.y+u*t)+")");var V=0;"center"==m?V=(this.svg.getBoundingClientRect().width-D.width)/2:"right"==m&&(V=this.svg.getBoundingClientRect().width-D.width),this.setPosition(S,{x:V,y:c+this.contents.p.tf*t-b}),c+=o*t,y+=this.contents.p.tf*t+(this.contents.p.tf*t-C)}null!=this.texts[h].y&&1!=this.texts[h].fromCurrentPosition.y||this.setPosition(g,{y:r}),null!=this.texts[h].fromCurrentPosition&&this.texts[h].fromCurrentPosition.y&&(n+=null==this.texts[h].y?0:this.texts[h].y),this.setPosition(g,{x:this.texts[h].x,y:this.texts[h].y},this.texts[h].fromCurrentPosition),a&&(n+=y),null!=this.drawnCharacters[x]&&(x=h),this.drawnCharacters[x]={characters:l,queued:this.texts[h].queued,container:g,index:h},(null==this.texts[h].autoAnimation||this.texts[h].autoAnimation)&&this.properties.autoAnimation&&(i.draw(x,d),(null==this.texts[h].queued||this.texts[h].queued)&&(i.prevDuration+=d))}this.completed=!0,this.svg.setAttribute("height",this.svg.getBBox().height+this.svg.getBBox().y+10),this.readyF&&this.readyF()},Vara.prototype.playAll=function(){for(var t=this.prevDuration=0;t<this.texts.length;t++){var e=this.texts[t].duration,s=null==this.texts[t].id?t:this.texts[t].id;this.prevDuration+=this.texts[t].delay,this.draw(s,e),(null==this.texts[t].queued||this.texts[t].queued)&&(this.prevDuration+=e)}},Vara.prototype.draw=function(t,e){var s=this;if(null==this.drawnCharacters[t])return console.warn("ID:`"+t+"` not found. Animation skipped"),void console.trace();var i=void 0===e?this.texts[this.drawnCharacters[t].index].duration:e,r=this.getSectionPathLength(t),o=0,n=null==this.drawnCharacters[t].queued||this.drawnCharacters[t].queued?this.prevDuration:1;setTimeout(function(){s.drawnCharacters[t].characters.forEach(function(t){t.querySelectorAll("path").forEach(function(t){var e=parseFloat(t.style.strokeDashoffset)/r*i;t.style.opacity=1,s.animate(t,e,o,0),o+=e})}),setTimeout(function(){s.animationEndF&&s.animationEndF(t,s.drawnCharacters[t])},o)},n)},Vara.prototype.get=function(t){return null==this.drawnCharacters[t]?(console.warn("ID:`"+t+"` not found."),console.trace(),!1):this.drawnCharacters[t]},Vara.prototype.animate=function(r,o,t,n){var a=this;n=Number(n)||0,setTimeout(function(){var e=(new Date).getTime(),s=parseFloat(r.style.strokeDashoffset),i=setInterval(function(){var t=Math.min(1,((new Date).getTime()-e)/o);r.style.strokeDashoffset=s+t*(n-s),1==t&&clearInterval(i)},a.frameRate)},t)},Vara.prototype.getSectionPathLength=function(t){var e=this;return this.totalPathLength=0,this.drawnCharacters[t].characters.forEach(function(t){t.querySelectorAll("path").forEach(function(t){e.totalPathLength+=t.getTotalLength()})}),this.totalPathLength},Vara.prototype.analyseWidth=function(){var t=0,e=this.svg.getBoundingClientRect().width,s=[],i=null==this.characters[97]?Object.keys(this.characters)[Math.round(Math.random()*this.characters.length)]:"97",r=document.createElement("span");this.element.appendChild(r),r.style.opacity=0,r.style.position="absolute",r.innerHTML=String.fromCharCode(i);var o=document.createElement("span");this.element.appendChild(o),o.style.opacity=0,o.style.position="absolute",o.innerHTML=" . ";for(var n=0;n<this.texts.length;n++){var a,h=this.texts[n];a="string"==typeof h.text?[h.text]:h.text,this.texts[n].text=a,this.texts[n].letterSpacing=null==this.texts[n].letterSpacing?null==this.properties.letterSpacing?0:this.properties.letterSpacing:this.texts[n].letterSpacing,this.texts[n].strokeWidth=null==this.texts[n].strokeWidth?null==this.properties.strokeWidth?this.contents.p.bsw:this.properties.strokeWidth:this.texts[n].strokeWidth;var l=null==this.texts[n].breakWord?null!=this.properties.breakWord&&this.properties.breakWord:this.texts[n].breakWord,c=null==h.fontSize?null==this.properties.fontSize?this.fontSize:this.properties.fontSize:h.fontSize;r.style.fontSize=c+"px",o.style.fontSize=c+"px";var u=r.getBoundingClientRect().width/this.characters[i].w;this.texts[n].minWidth=o.getBoundingClientRect().width;var p,d=null==this.texts[n].width?e:this.texts[n].width,x=[],f=null==this.texts[n].x?0:this.texts[n].x;this.trueFontSize=c,this.texts[n].fontSize=u;for(var m=this.texts[n].letterSpacing,g=0;g<a.length;g++){for(var y=f,v=[],w=a[g],S=0,b=0;b<w.length;b++)if("object"==_typeof(m)&&"object"==_typeof(m)&&(m=void 0===m[w]?void 0===m.global?0:m.global:m[w]),null!=this.characters[w[b].charCodeAt(0)]?((p=this.characters[w[b].charCodeAt(0)].w*u)<this.texts[n].minWidth&&(p+=u*(this.texts[n].minWidth-this.characters[w[b].charCodeAt(0)].w)/2),p+=m):" "==w[b]?(p=this.space.w*u,S=y):p=this.questionMark.w*u+m,y+(p+=this.texts[n].strokeWidth*u)>=d){0==S&&(l=!0);var C=b;" "==w[b]||l||(C=w.slice(0,C+1).search(/\S+$/)),v.push(C),y=f+y-S}else t+=p,y+=p;x.push(v)}s.push(x)}return r.parentNode.removeChild(r),o.parentNode.removeChild(o),{width:t,breakPoints:s}},Vara.prototype.setPosition=function(t,e,s){(s=null==s?{x:!1,y:!1}:s).x=null!=s.x&&s.x,s.y=null!=s.y&&s.y;var i=t.transform.baseVal.consolidate().matrix,r=i.e,o=i.f;null!=e.x&&(s.x?r+=e.x:r=e.x),null!=e.y&&(s.y?o+=e.y:o=e.y-t.getBBox().y);var n=this.svg.createSVGTransform();n.setTranslate(r,o),t.transform.baseVal.replaceItem(n,0)},"undefined"!=typeof module?module.exports=Vara:window.Vara=Vara;